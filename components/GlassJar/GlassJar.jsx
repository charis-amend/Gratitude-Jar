/*
Auto-generated by: https://github.com/pmndrs/gltfjsx
*/

import React, { useRef } from "react";
import { useGLTF } from "@react-three/drei";
import { BackSide, DoubleSide, MeshStandardMaterial, MeshToonMaterial } from "three";
import { Color } from "three";
import { useFrame } from "@react-three/fiber";


export default function Model(props) {
    const { nodes, materials } = useGLTF("/2glassjar/jar.gltf");
    const baseMaterial = useRef(new MeshStandardMaterial({
        transparent: true,
        opacity: 0.3,
        depthTest: false,
        side: DoubleSide,
        color: new Color(244, 247, 247),
        roughness: 0.3,
        metalness: 0.7,
    }))
    const lidMaterial = useRef(new MeshStandardMaterial({
        transparent: false,
        depthTest: true,
        depthWrite: true,
        side: BackSide,
        // color: new Color(68, 68, 68),
        color: new Color(1, 0, 0),
        emissive: new Color(35, 35, 35),
        roughness: 0.3,

    }))

    const groupRef = useRef();

    // Update rotation in the animation loop
    useFrame((state, delta) => {
        groupRef.current.rotation.x += 0.0 * delta; // Adjust speed as needed
        groupRef.current.rotation.y += 0.01 * delta;
        groupRef.current.rotation.z += 0.02 * delta;
    });

    return (
        <group {...props} dispose={null} ref={groupRef}>
            <mesh
                castShadow
                receiveShadow
                name="Base_Cylinder"
                geometry={nodes.Base_Cylinder.geometry}
                // material={nodes.Base_Cylinder.material}
                // material={materials.MeshLambertMaterial}
                userData={{ name: "Base_Cylinder" }}
                material={baseMaterial.current}



            />

            <mesh
                name="Glass_Plug_Cylinder002"
                geometry={nodes.Glass_Plug_Cylinder002.geometry}
                // material={nodes.Glass_Plug_Cylinder002.material}
                material={lidMaterial.current}
                userData={{ name: "Glass_Plug_Cylinder.002" }}

            />
        </group>
    );
}

useGLTF.preload("/2glassjar/jar.gltf");




